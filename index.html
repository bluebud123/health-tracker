<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#3B7A6B">
<link rel="manifest" href="./manifest.json">
<title>Health Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/recharts/2.10.3/Recharts.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{font-family:'DM Sans',sans-serif;background:#F7F5F0;overscroll-behavior:none}
input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none}
input[type=number]{-moz-appearance:textfield}input,button,select{font-family:'DM Sans',sans-serif}
::-webkit-scrollbar{display:none}
@keyframes fi{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
@keyframes st{0%{opacity:1}100%{opacity:0;transform:translateY(-8px)}}
.fi{animation:fi .2s ease-out}.st{animation:st 1.2s ease-out forwards;position:fixed;top:80px;left:50%;transform:translateX(-50%);background:#4CAF50;color:#fff;padding:8px 20px;border-radius:20px;font-size:13px;font-weight:600;z-index:200;pointer-events:none}
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const{useState,useEffect,useCallback}=React;
const{LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer,ReferenceLine,ComposedChart}=Recharts;
const LS={g:k=>{try{const v=localStorage.getItem(k);return v?JSON.parse(v):null}catch{return null}},s:(k,v)=>{try{localStorage.setItem(k,JSON.stringify(v))}catch{}}};
const KS={d:"ht-d",g:"ht-g",l:"ht-l",m:"ht-m",lb:"ht-lb"};
const P={bg:"#F7F5F0",cd:"#FFF",pr:"#3B7A6B",pl:"#E8F2EF",dn:"#D94F4F",dl:"#FDEAEA",wn:"#D4A017",wl:"#FFF8E1",sc:"#4CAF50",sl:"#E8F5E9",tx:"#2D2D2D",mt:"#8A8A8A",bo:"#E8E4DC",sh:"0 2px 12px rgba(0,0,0,.06)",wa:"#25D366"};
const sC={dn:{bg:P.dl,b:P.dn,d:P.dn},wn:{bg:P.wl,b:P.wn,d:P.wn},sc:{bg:P.sl,b:P.sc,d:P.sc}};
const i18={en:{app:"Health Tracker",hi:"Hi Mum & Dad \ud83e\udec0",sub:"Track your health daily",log:"Log Today",wk:"This Week",rec:"Recent Days",ref:"Quick Reference",bp:"Blood Pressure",bpT:"Target: below 130/80 mmHg",mo:"Morning",ev:"Evening",sy:"Systolic",di:"Diastolic",su:"Blood Sugar",suT:"Fasting: 80-130 \xb7 Post-meal: below 180 mg/dL",fa:"Fasting",pm:"Post-meal",me:"Meals",bk:"Breakfast",lu:"Lunch",dn:"Dinner",sn:"Snacks",ex:"Exercise",mn:"Minutes",ty:"Type",ql:"Quick Log",mt:"Medication taken",wt:"Weight",nt:"Notes",wa:"Share via WhatsApp",wr:"Reading outside safe range!",wM:"Please inform Shun Herng or visit a clinic.",nd:"No data",td:"Today",he:"Health Entry",aB:"Avg BP",aS:"Avg Sugar",mL:"Meds",bR:"BP Target",bl:"Below 130/80",fS:"Fasting Sugar",sR:"80-130 mg/dL",bW:"BP Warning",bWR:"140-159/90-99",em:"Emergency",eR:"BP\u226560 Sugar\u2265250",wg:"Weekly Goal",sg:"Set this week's goal",gp:"e.g. Walk 15 min after dinner 3 days",ga:"Goal achieved!",md:"Mark done",gh:"Past Goals",bpTr:"BP Trend",sTr:"Sugar Trend",tr:"Trends",mS:"Morn Sys",eS:"Eve Sys",fL:"Fasting",pL:"Post-meal",ncd:"Start logging to see trends",mp:{bk:"e.g. Roti canai + teh-O",lu:"e.g. Nasi + ikan bakar",dn:"e.g. Porridge + fish",sn:"e.g. Apple, nuts"},ep:"e.g. Evening walk",np:"Any notes...",ln:"\u4e2d\u6587",sv:"Save",cn:"Cancel",meds:"Medications",addM:"Add medication",mN:"Medicine name",dos:"Dose",frq:"Frequency",tm:"Time",noM:"No medications added",mPh:{n:"e.g. Amlodipine",d:"e.g. 5mg",f:"e.g. Once daily",t:"e.g. Morning"},labs:"Lab Results",addL:"Add result",hba:"HbA1c(%)",cho:"Total Chol",ldl:"LDL",hdl:"HDL",tri:"Triglycerides",dt:"Date",noL:"No lab results yet",exp:"Export for Clinic",mr:"More",del:"Delete"},
zh:{app:"\u5065\u5eb7\u8ffd\u8e2a\u5668",hi:"\u7238\u5988\u597d \ud83e\udec0",sub:"\u6bcf\u5929\u8bb0\u5f55\u5065\u5eb7\u72b6\u51b5",log:"\u8bb0\u5f55\u4eca\u5929",wk:"\u672c\u5468",rec:"\u8fd1\u671f\u8bb0\u5f55",ref:"\u53c2\u8003\u6307\u6807",bp:"\u8840\u538b",bpT:"\u76ee\u6807\uff1a\u4f4e\u4e8e130/80 mmHg",mo:"\u65e9\u4e0a",ev:"\u665a\u4e0a",sy:"\u6536\u7f29\u538b",di:"\u8212\u5f20\u538b",su:"\u8840\u7cd6",suT:"\u7a7a\u8179\uff1a80-130 \u00b7 \u9910\u540e\uff1a\u4f4e\u4e8e180 mg/dL",fa:"\u7a7a\u8179",pm:"\u9910\u540e",me:"\u996e\u98df",bk:"\u65e9\u9910",lu:"\u5348\u9910",dn:"\u665a\u9910",sn:"\u96f6\u98df",ex:"\u8fd0\u52a8",mn:"\u5206\u949f",ty:"\u7c7b\u578b",ql:"\u5feb\u901f\u8bb0\u5f55",mt:"\u5df2\u670d\u836f",wt:"\u4f53\u91cd",nt:"\u5907\u6ce8",wa:"\u901a\u8fc7WhatsApp\u5206\u4eab",wr:"\u8bfb\u6570\u8d85\u51fa\u5b89\u5168\u8303\u56f4\uff01",wM:"\u8bf7\u901a\u77e5\u987a\u6052\u6216\u5230\u8bca\u6240\u5c31\u533b\u3002",nd:"\u65e0\u6570\u636e",td:"\u4eca\u5929",he:"\u5065\u5eb7\u8bb0\u5f55",aB:"\u5e73\u5747\u8840\u538b",aS:"\u5e73\u5747\u8840\u7cd6",mL:"\u670d\u836f",bR:"\u8840\u538b\u76ee\u6807",bl:"\u4f4e\u4e8e130/80",fS:"\u7a7a\u8179\u8840\u7cd6",sR:"80-130 mg/dL",bW:"\u8840\u538b\u8b66\u544a",bWR:"140-159/90-99",em:"\u7d27\u6025\u60c5\u51b5",eR:"\u8840\u538b\u2265160 \u8840\u7cd6\u2265250",wg:"\u6bcf\u5468\u76ee\u6807",sg:"\u8bbe\u5b9a\u672c\u5468\u76ee\u6807",gp:"\u4f8b\uff1a\u996d\u540e\u6563\u6b6515\u5206\u949f\uff0c\u4e00\u54683\u6b21",ga:"\u76ee\u6807\u8fbe\u6210\uff01",md:"\u6807\u8bb0\u5b8c\u6210",gh:"\u8fc7\u5f80\u76ee\u6807",bpTr:"\u8840\u538b\u8d8b\u52bf",sTr:"\u8840\u7cd6\u8d8b\u52bf",tr:"\u8d8b\u52bf\u56fe",mS:"\u65e9\u4e0a\u6536\u7f29\u538b",eS:"\u665a\u4e0a\u6536\u7f29\u538b",fL:"\u7a7a\u8179",pL:"\u9910\u540e",ncd:"\u5f00\u59cb\u8bb0\u5f55\u540e\u5373\u53ef\u67e5\u770b\u8d8b\u52bf\u56fe",mp:{bk:"\u4f8b\uff1a\u9762\u5305+\u5496\u5561\u4e4c",lu:"\u4f8b\uff1a\u767d\u996d+\u84b8\u9c7c",dn:"\u4f8b\uff1a\u7ca5+\u6e05\u84b8\u9c7c",sn:"\u4f8b\uff1a\u82f9\u679c\u3001\u575a\u679c"},ep:"\u4f8b\uff1a\u665a\u996d\u540e\u6563\u6b65",np:"\u5176\u4ed6\u5907\u6ce8...",ln:"EN",sv:"\u4fdd\u5b58",cn:"\u53d6\u6d88",meds:"\u836f\u7269\u6e05\u5355",addM:"\u6dfb\u52a0\u836f\u7269",mN:"\u836f\u7269\u540d\u79f0",dos:"\u5242\u91cf",frq:"\u9891\u7387",tm:"\u65f6\u95f4",noM:"\u5c1a\u672a\u6dfb\u52a0\u836f\u7269",mPh:{n:"\u4f8b\uff1a\u6c28\u6c2f\u5730\u5e73",d:"\u4f8b\uff1a5mg",f:"\u4f8b\uff1a\u6bcf\u5929\u4e00\u6b21",t:"\u4f8b\uff1a\u65e9\u4e0a"},labs:"\u5316\u9a8c\u7ed3\u679c",addL:"\u6dfb\u52a0\u7ed3\u679c",hba:"\u7cd6\u5316\u8840\u7ea2\u86cb\u767d(%)",cho:"\u603b\u80c6\u56fa\u9187",ldl:"\u4f4e\u5bc6\u5ea6\u8102\u86cb\u767d",hdl:"\u9ad8\u5bc6\u5ea6\u8102\u86cb\u767d",tri:"\u7518\u6cb9\u4e09\u916f",dt:"\u65e5\u671f",noL:"\u5c1a\u65e0\u5316\u9a8c\u7ed3\u679c",exp:"\u5bfc\u51fa\u8bca\u6240\u62a5\u544a",mr:"\u66f4\u591a",del:"\u5220\u9664"}};
const td=()=>new Date().toISOString().split("T")[0];
const fD=(d,l)=>new Date(d+"T00:00:00").toLocaleDateString(l==="zh"?"zh-CN":"en-MY",{weekday:"short",day:"numeric",month:"short"});
const sD=d=>{const x=new Date(d+"T00:00:00");return x.getDate()+"/"+(x.getMonth()+1)};
const wK=d=>{const x=new Date(d+"T00:00:00"),j=new Date(x.getFullYear(),0,1);return x.getFullYear()+"-W"+Math.ceil(((x-j)/864e5+j.getDay()+1)/7)};
const eE=()=>({bpMornSys:"",bpMornDia:"",bpEveSys:"",bpEveDia:"",fastingSugar:"",postMealSugar:"",breakfast:"",lunch:"",dinner:"",snacks:"",exerciseMin:"",exerciseType:"",medsTaken:false,weight:"",notes:""});
const gL=n=>{const a=[];for(let i=n-1;i>=0;i--){const d=new Date();d.setDate(d.getDate()-i);a.push(d.toISOString().split("T")[0])}return a};
const bpS=s=>{if(!s)return null;if(s>=160)return"dn";if(s>=130)return"wn";return"sc"};
const suS=v=>{if(!v)return null;if(v<70||v>=250)return"dn";if(v>=180)return"wn";if(v<=130)return"sc";return"wn"};
const hbS=v=>{if(!v)return null;v=+v;return v<7?"sc":v<8?"wn":"dn"};
const chS=v=>{if(!v)return null;v=+v;return v<5.2?"sc":v<6.2?"wn":"dn"};
const Dt=({s})=>s?React.createElement("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",backgroundColor:sC[s].d,marginLeft:6}}):null;
const NI=({label,value,onChange,unit,status,ph})=>{const c=status?sC[status]:null;return React.createElement("div",{style:{flex:1,minWidth:0}},React.createElement("label",{style:{fontSize:11,color:P.mt,fontWeight:600,display:"flex",alignItems:"center",gap:4}},label,React.createElement(Dt,{s:status})),React.createElement("div",{style:{display:"flex",alignItems:"center",gap:4,marginTop:4}},React.createElement("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value,onChange:e=>onChange(e.target.value),placeholder:ph||"\u2014",style:{width:"100%",padding:"12px 8px",fontSize:16,fontWeight:600,border:"1.5px solid "+(c?c.b:P.bo),borderRadius:10,outline:"none",backgroundColor:c?c.bg:"#FAFAF8",textAlign:"center"}}),unit&&React.createElement("span",{style:{fontSize:11,color:P.mt,whiteSpace:"nowrap"}},unit)))};
const Tg=({label,active,onClick,icon})=>React.createElement("button",{onClick,style:{padding:"12px 16px",borderRadius:12,border:"1.5px solid "+(active?P.pr:P.bo),backgroundColor:active?P.pl:"#FAFAF8",cursor:"pointer",fontSize:14,fontWeight:600,color:active?P.pr:P.mt,display:"flex",alignItems:"center",gap:6}},icon," ",label);
const Sc=({title,icon,children,np})=>React.createElement("div",{style:{backgroundColor:P.cd,borderRadius:16,padding:np?"18px 0 0":18,boxShadow:P.sh,marginBottom:14,border:"1px solid "+P.bo,overflow:"hidden"}},React.createElement("div",{style:{fontSize:13,fontWeight:700,color:P.pr,marginBottom:12,display:"flex",alignItems:"center",gap:6,letterSpacing:.8,padding:np?"0 18px":0}},React.createElement("span",{style:{fontSize:16}},icon)," ",title),children);
const CT=({active,payload,label})=>{if(!active||!payload?.length)return null;return React.createElement("div",{style:{backgroundColor:"rgba(255,255,255,.96)",borderRadius:10,padding:"10px 14px",boxShadow:"0 4px 20px rgba(0,0,0,.12)",border:"1px solid "+P.bo,fontSize:12}},React.createElement("div",{style:{fontWeight:700,marginBottom:4}},label),payload.map((p,i)=>p.value!=null&&React.createElement("div",{key:i,style:{display:"flex",alignItems:"center",gap:6,marginBottom:2}},React.createElement("span",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:p.color,display:"inline-block"}}),React.createElement("span",{style:{color:P.mt}},p.name,": "),React.createElement("span",{style:{fontWeight:700}},p.value))))};
const BPC=({data,t})=>{const d=gL(14).map(x=>{const e=data[x];return{date:sD(x),mS:e?.bpMornSys?+e.bpMornSys:null,mD:e?.bpMornDia?+e.bpMornDia:null,eS:e?.bpEveSys?+e.bpEveSys:null,eD:e?.bpEveDia?+e.bpEveDia:null}});if(!d.some(x=>x.mS||x.eS))return React.createElement("div",{style:{padding:"30px 18px",textAlign:"center",color:P.mt,fontSize:13,fontStyle:"italic"}},t.ncd);const v=d.flatMap(x=>[x.mS,x.mD,x.eS,x.eD]).filter(Boolean),mn=Math.max(40,Math.floor((Math.min(...v)-15)/10)*10),mx=Math.ceil((Math.max(...v)+15)/10)*10;return React.createElement("div",{style:{padding:"0 4px 14px 0"}},React.createElement("div",{style:{display:"flex",gap:12,justifyContent:"center",marginBottom:8,padding:"0 18px",flexWrap:"wrap"}},[{c:"#E05A5A",l:t.mS},{c:"#5A8FE0",l:t.eS}].map((x,i)=>React.createElement("div",{key:i,style:{display:"flex",alignItems:"center",gap:5,fontSize:11,color:P.mt}},React.createElement("span",{style:{width:10,height:3,borderRadius:2,backgroundColor:x.c,display:"inline-block"}}),x.l))),React.createElement(ResponsiveContainer,{width:"100%",height:200},React.createElement(ComposedChart,{data:d,margin:{top:5,right:20,left:-10,bottom:0}},React.createElement(CartesianGrid,{strokeDasharray:"3 3",stroke:"#F0EDE8",vertical:false}),React.createElement(XAxis,{dataKey:"date",tick:{fontSize:10,fill:P.mt},axisLine:false,tickLine:false,interval:"preserveStartEnd"}),React.createElement(YAxis,{domain:[mn,mx],tick:{fontSize:10,fill:P.mt},axisLine:false,tickLine:false}),React.createElement(Tooltip,{content:React.createElement(CT)}),React.createElement(ReferenceLine,{y:130,stroke:P.wn,strokeDasharray:"6 4",strokeWidth:1.5}),React.createElement(ReferenceLine,{y:160,stroke:P.dn,strokeDasharray:"6 4",strokeWidth:1.5}),React.createElement(Line,{type:"monotone",dataKey:"mS",stroke:"#E05A5A",strokeWidth:2.5,dot:{r:4,fill:"#E05A5A",strokeWidth:2,stroke:"#fff"},connectNulls:true,name:t.mS}),React.createElement(Line,{type:"monotone",dataKey:"eS",stroke:"#5A8FE0",strokeWidth:2.5,dot:{r:4,fill:"#5A8FE0",strokeWidth:2,stroke:"#fff"},connectNulls:true,name:t.eS}),React.createElement(Line,{type:"monotone",dataKey:"mD",stroke:"#E05A5A",strokeWidth:1.5,strokeDasharray:"4 3",dot:{r:3,fill:"#E05A5A",strokeWidth:1,stroke:"#fff"},connectNulls:true,name:t.mo+" Dia"}),React.createElement(Line,{type:"monotone",dataKey:"eD",stroke:"#5A8FE0",strokeWidth:1.5,strokeDasharray:"4 3",dot:{r:3,fill:"#5A8FE0",strokeWidth:1,stroke:"#fff"},connectNulls:true,name:t.ev+" Dia"}))))};
const SuCh=({data,t})=>{const d=gL(14).map(x=>{const e=data[x];return{date:sD(x),f:e?.fastingSugar?+e.fastingSugar:null,p:e?.postMealSugar?+e.postMealSugar:null}});if(!d.some(x=>x.f||x.p))return React.createElement("div",{style:{padding:"30px 18px",textAlign:"center",color:P.mt,fontSize:13,fontStyle:"italic"}},t.ncd);const v=d.flatMap(x=>[x.f,x.p]).filter(Boolean),mn=Math.max(40,Math.floor((Math.min(...v)-20)/10)*10),mx=Math.ceil((Math.max(...v)+20)/10)*10;return React.createElement("div",{style:{padding:"0 4px 14px 0"}},React.createElement("div",{style:{display:"flex",gap:12,justifyContent:"center",marginBottom:8,padding:"0 18px"}},[{c:"#E07A3A",l:t.fL},{c:"#9B59B6",l:t.pL}].map((x,i)=>React.createElement("div",{key:i,style:{display:"flex",alignItems:"center",gap:5,fontSize:11,color:P.mt}},React.createElement("span",{style:{width:10,height:3,borderRadius:2,backgroundColor:x.c,display:"inline-block"}}),x.l))),React.createElement(ResponsiveContainer,{width:"100%",height:200},React.createElement(ComposedChart,{data:d,margin:{top:5,right:20,left:-10,bottom:0}},React.createElement(CartesianGrid,{strokeDasharray:"3 3",stroke:"#F0EDE8",vertical:false}),React.createElement(XAxis,{dataKey:"date",tick:{fontSize:10,fill:P.mt},axisLine:false,tickLine:false,interval:"preserveStartEnd"}),React.createElement(YAxis,{domain:[mn,mx],tick:{fontSize:10,fill:P.mt},axisLine:false,tickLine:false}),React.createElement(Tooltip,{content:React.createElement(CT)}),React.createElement(ReferenceLine,{y:130,stroke:P.wn,strokeDasharray:"6 4",strokeWidth:1.5}),React.createElement(ReferenceLine,{y:180,stroke:P.dn,strokeDasharray:"6 4",strokeWidth:1.5}),React.createElement(Line,{type:"monotone",dataKey:"f",stroke:"#E07A3A",strokeWidth:2.5,dot:{r:4,fill:"#E07A3A",strokeWidth:2,stroke:"#fff"},connectNulls:true,name:t.fL}),React.createElement(Line,{type:"monotone",dataKey:"p",stroke:"#9B59B6",strokeWidth:2.5,dot:{r:4,fill:"#9B59B6",strokeWidth:2,stroke:"#fff"},connectNulls:true,name:t.pL}))))};
const DC=({date,entry:e,onClick,isToday:iT,lang,t})=>{const bs=bpS(+(e?.bpMornSys)),ss=suS(+(e?.fastingSugar)),has=e&&(e.bpMornSys||e.fastingSugar||e.medsTaken);return React.createElement("button",{onClick,style:{display:"flex",alignItems:"center",gap:12,padding:14,backgroundColor:iT?P.pl:P.cd,border:"1.5px solid "+(iT?P.pr:P.bo),borderRadius:14,cursor:"pointer",width:"100%",textAlign:"left",boxShadow:iT?"0 2px 8px rgba(59,122,107,.15)":"none"}},React.createElement("div",{style:{minWidth:44,textAlign:"center"}},React.createElement("div",{style:{fontSize:11,color:P.mt,fontWeight:600}},new Date(date+"T00:00:00").toLocaleDateString(lang==="zh"?"zh-CN":"en-MY",{weekday:"short"})),React.createElement("div",{style:{fontSize:20,fontWeight:800,color:iT?P.pr:P.tx}},new Date(date+"T00:00:00").getDate())),React.createElement("div",{style:{flex:1,display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"}},e?.bpMornSys&&React.createElement("span",{style:{fontSize:12,padding:"3px 8px",borderRadius:8,backgroundColor:sC[bs||"sc"]?.bg,color:sC[bs||"sc"]?.d,fontWeight:600}},e.bpMornSys,"/",e.bpMornDia),e?.fastingSugar&&React.createElement("span",{style:{fontSize:12,padding:"3px 8px",borderRadius:8,backgroundColor:sC[ss||"sc"]?.bg,color:sC[ss||"sc"]?.d,fontWeight:600}},e.fastingSugar),e?.medsTaken&&"\ud83d\udc8a",+(e?.exerciseMin)>0&&"\ud83d\udeb6"),!has&&React.createElement("span",{style:{fontSize:12,color:P.mt,fontStyle:"italic"}},t.nd),"\u203a")};
const WS=({data,t})=>{const en=gL(7).map(d=>data[d]).filter(Boolean);const bR=en.filter(e=>e.bpMornSys).map(e=>+e.bpMornSys),sR=en.filter(e=>e.fastingSugar).map(e=>+e.fastingSugar);const eD=en.filter(e=>+e.exerciseMin>0).length,mD=en.filter(e=>e.medsTaken).length,tE=en.reduce((s,e)=>s+(+e.exerciseMin||0),0);const aB=bR.length?Math.round(bR.reduce((a,b)=>a+b,0)/bR.length):null,aS=sR.length?Math.round(sR.reduce((a,b)=>a+b,0)/sR.length):null;return React.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10}},[{l:t.aB,v:aB||"\u2014",u:"mmHg",s:bpS(aB),i:"\u2764\ufe0f"},{l:t.aS,v:aS||"\u2014",u:"mg/dL",s:suS(aS),i:"\ud83e\ude78"},{l:t.ex,v:eD+"/7",u:tE+"min",i:"\ud83d\udeb6"},{l:t.mL,v:mD+"/7",u:"",i:"\ud83d\udc8a"}].map((s,i)=>React.createElement("div",{key:i,style:{backgroundColor:P.cd,borderRadius:14,padding:14,border:"1px solid "+P.bo,boxShadow:P.sh}},React.createElement("div",{style:{fontSize:11,color:P.mt,fontWeight:600,marginBottom:4}},s.i," ",s.l),React.createElement("div",{style:{display:"flex",alignItems:"baseline",gap:4}},React.createElement("span",{style:{fontSize:22,fontWeight:800,color:s.s?sC[s.s]?.d:P.tx}},s.v),React.createElement("span",{style:{fontSize:11,color:P.mt}},s.u)))))};
const WG=({goals,cw,onSet,onTog,t})=>{const[ed,sE]=useState(false),[dr,sDr]=useState("");const cg=goals[cw];const sv=()=>{if(dr.trim()){onSet(cw,dr.trim());sE(false);sDr("")}};return React.createElement(Sc,{title:t.wg,icon:"\ud83c\udfaf"},cg?React.createElement("div",{style:{padding:14,borderRadius:12,backgroundColor:cg.achieved?P.sl:P.pl,border:"1.5px solid "+(cg.achieved?P.sc:P.pr),marginBottom:8}},React.createElement("div",{style:{fontSize:15,fontWeight:700,marginBottom:6}},cg.achieved?"\u2705 ":"\ud83c\udfaf ",cg.text),cg.achieved?React.createElement("div",{style:{fontSize:13,color:P.sc,fontWeight:600}},t.ga):React.createElement("button",{onClick:()=>onTog(cw),style:{padding:"8px 14px",borderRadius:10,backgroundColor:P.sc,color:"#fff",border:"none",fontSize:13,fontWeight:600,cursor:"pointer"}},"\u2713 ",t.md)):ed?React.createElement("div",null,React.createElement("input",{type:"text",value:dr,onChange:e=>sDr(e.target.value),placeholder:t.gp,onKeyDown:e=>e.key==="Enter"&&sv(),autoFocus:true,style:{width:"100%",padding:12,fontSize:14,border:"1.5px solid "+P.pr,borderRadius:10,outline:"none",boxSizing:"border-box",marginBottom:8}}),React.createElement("div",{style:{display:"flex",gap:8}},React.createElement("button",{onClick:sv,style:{flex:1,padding:10,borderRadius:10,backgroundColor:P.pr,color:"#fff",border:"none",fontSize:14,fontWeight:600,cursor:"pointer"}},t.sv),React.createElement("button",{onClick:()=>sE(false),style:{padding:"10px 16px",borderRadius:10,backgroundColor:"#FAFAF8",color:P.mt,border:"1px solid "+P.bo,fontSize:14,cursor:"pointer"}},t.cn))):React.createElement("button",{onClick:()=>sE(true),style:{width:"100%",padding:14,borderRadius:12,border:"2px dashed "+P.bo,backgroundColor:"#FAFAF8",cursor:"pointer",fontSize:14,color:P.mt}},"+ ",t.sg))};
const ML=({meds,setM,t})=>{const[a,sA]=useState(false),[d,sDD]=useState({name:"",dose:"",freq:"",time:""});const sv=()=>{if(d.name.trim()){setM([...meds,{...d,id:Date.now()}]);sDD({name:"",dose:"",freq:"",time:""});sA(false)}};const inp=(f,p)=>React.createElement("input",{type:"text",value:d[f],onChange:e=>sDD({...d,[f]:e.target.value}),placeholder:p,style:{width:"100%",padding:"10px 12px",fontSize:14,border:"1.5px solid "+P.bo,borderRadius:10,outline:"none",backgroundColor:"#FAFAF8",marginTop:4,marginBottom:8,boxSizing:"border-box"}});return React.createElement(Sc,{title:t.meds,icon:"\ud83d\udc8a"},meds.length===0&&!a&&React.createElement("div",{style:{color:P.mt,fontSize:13,fontStyle:"italic",marginBottom:10}},t.noM),meds.map(m=>React.createElement("div",{key:m.id,style:{display:"flex",alignItems:"center",padding:"10px 12px",backgroundColor:"#FAFAF8",borderRadius:10,marginBottom:6,gap:10}},React.createElement("div",{style:{flex:1}},React.createElement("div",{style:{fontWeight:700,fontSize:14}},m.name," ",React.createElement("span",{style:{fontWeight:400,color:P.mt,fontSize:12}},m.dose)),React.createElement("div",{style:{fontSize:12,color:P.mt}},m.freq,m.time?" \u00b7 "+m.time:"")),React.createElement("button",{onClick:()=>setM(meds.filter(x=>x.id!==m.id)),style:{background:"none",border:"none",color:P.dn,fontSize:18,cursor:"pointer",padding:4}},"\u00d7"))),a?React.createElement("div",{style:{marginTop:8}},React.createElement("label",{style:{fontSize:11,color:P.mt,fontWeight:600}},t.mN),inp("name",t.mPh.n),React.createElement("div",{style:{display:"flex",gap:8}},React.createElement("div",{style:{flex:1}},React.createElement("label",{style:{fontSize:11,color:P.mt,fontWeight:600}},t.dos),inp("dose",t.mPh.d)),React.createElement("div",{style:{flex:1}},React.createElement("label",{style:{fontSize:11,color:P.mt,fontWeight:600}},t.frq),inp("freq",t.mPh.f))),React.createElement("label",{style:{fontSize:11,color:P.mt,fontWeight:600}},t.tm),inp("time",t.mPh.t),React.createElement("div",{style:{display:"flex",gap:8}},React.createElement("button",{onClick:sv,style:{flex:1,padding:10,borderRadius:10,backgroundColor:P.pr,color:"#fff",border:"none",fontSize:14,fontWeight:600,cursor:"pointer"}},t.sv),React.createElement("button",{onClick:()=>sA(false),style:{padding:"10px 16px",borderRadius:10,backgroundColor:"#FAFAF8",color:P.mt,border:"1px solid "+P.bo,fontSize:14,cursor:"pointer"}},t.cn))):React.createElement("button",{onClick:()=>sA(true),style:{width:"100%",padding:12,borderRadius:10,border:"2px dashed "+P.bo,backgroundColor:"#FAFAF8",cursor:"pointer",fontSize:13,color:P.mt,marginTop:4}},"+ ",t.addM))};
const LabL=({labs,setL,t})=>{const[a,sA]=useState(false),[d,sDD]=useState({date:td(),hba1c:"",chol:"",ldl:"",hdl:"",trig:""});const sv=()=>{if(d.hba1c||d.chol){setL([{...d,id:Date.now()},...labs]);sDD({date:td(),hba1c:"",chol:"",ldl:"",hdl:"",trig:""});sA(false)}};return React.createElement(Sc,{title:t.labs,icon:"\ud83e\uddea"},labs.length===0&&!a&&React.createElement("div",{style:{color:P.mt,fontSize:13,fontStyle:"italic",marginBottom:10}},t.noL),labs.map(l=>React.createElement("div",{key:l.id,style:{padding:12,backgroundColor:"#FAFAF8",borderRadius:10,marginBottom:8}},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6}},React.createElement("span",{style:{fontSize:12,fontWeight:700,color:P.pr}},fD(l.date,"en")),React.createElement("button",{onClick:()=>setL(labs.filter(x=>x.id!==l.id)),style:{background:"none",border:"none",color:P.dn,fontSize:16,cursor:"pointer"}},"\u00d7")),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6,fontSize:13}},l.hba1c&&React.createElement("div",{style:{padding:"4px 8px",borderRadius:6,backgroundColor:sC[hbS(l.hba1c)||"sc"].bg}},"HbA1c ",React.createElement("span",{style:{fontWeight:700,color:sC[hbS(l.hba1c)||"sc"].d}},l.hba1c,"%")),l.chol&&React.createElement("div",{style:{padding:"4px 8px",borderRadius:6,backgroundColor:sC[chS(l.chol)||"sc"].bg}},"TC ",React.createElement("span",{style:{fontWeight:700}},l.chol)),l.ldl&&React.createElement("div",{style:{padding:"4px 8px",borderRadius:6,backgroundColor:"#F5F5F0"}},"LDL ",React.createElement("span",{style:{fontWeight:700}},l.ldl)),l.hdl&&React.createElement("div",{style:{padding:"4px 8px",borderRadius:6,backgroundColor:"#F5F5F0"}},"HDL ",React.createElement("span",{style:{fontWeight:700}},l.hdl)),l.trig&&React.createElement("div",{style:{padding:"4px 8px",borderRadius:6,backgroundColor:"#F5F5F0"}},"TG ",React.createElement("span",{style:{fontWeight:700}},l.trig))))),a?React.createElement("div",{style:{marginTop:8}},React.createElement("label",{style:{fontSize:11,color:P.mt,fontWeight:600}},t.dt),React.createElement("input",{type:"date",value:d.date,onChange:e=>sDD({...d,date:e.target.value}),style:{width:"100%",padding:10,fontSize:14,border:"1.5px solid "+P.bo,borderRadius:10,outline:"none",marginTop:4,marginBottom:8,boxSizing:"border-box"}}),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8}},[["hba1c",t.hba,"6.5"],["chol",t.cho,"5.0"],["ldl",t.ldl,"2.6"],["hdl",t.hdl,"1.5"],["trig",t.tri,"1.7"]].map(([k,l,p])=>React.createElement("div",{key:k},React.createElement("label",{style:{fontSize:10,color:P.mt,fontWeight:600}},l),React.createElement("input",{type:"number",inputMode:"decimal",step:"0.1",value:d[k],onChange:e=>sDD({...d,[k]:e.target.value}),placeholder:p,style:{width:"100%",padding:10,fontSize:14,border:"1.5px solid "+P.bo,borderRadius:10,outline:"none",marginTop:4,boxSizing:"border-box",textAlign:"center"}})))),React.createElement("div",{style:{display:"flex",gap:8,marginTop:10}},React.createElement("button",{onClick:sv,style:{flex:1,padding:10,borderRadius:10,backgroundColor:P.pr,color:"#fff",border:"none",fontSize:14,fontWeight:600,cursor:"pointer"}},t.sv),React.createElement("button",{onClick:()=>sA(false),style:{padding:"10px 16px",borderRadius:10,backgroundColor:"#FAFAF8",color:P.mt,border:"1px solid "+P.bo,fontSize:14,cursor:"pointer"}},t.cn))):React.createElement("button",{onClick:()=>sA(true),style:{width:"100%",padding:12,borderRadius:10,border:"2px dashed "+P.bo,backgroundColor:"#FAFAF8",cursor:"pointer",fontSize:13,color:P.mt,marginTop:4}},"+ ",t.addL))};
function doExp(data,meds,labs){let c="HEALTH REPORT - "+new Date().toLocaleDateString()+"\n\n=== DAILY READINGS ===\nDate,Morning BP,Evening BP,Fasting Sugar,Post-meal Sugar,Exercise(min),Medication,Weight,Notes\n";Object.keys(data).sort().reverse().forEach(d=>{const e=data[d];c+=d+","+(e.bpMornSys?e.bpMornSys+"/"+e.bpMornDia:"")+","+(e.bpEveSys?e.bpEveSys+"/"+e.bpEveDia:"")+","+(e.fastingSugar||"")+","+(e.postMealSugar||"")+","+(e.exerciseMin||"")+","+(e.medsTaken?"Yes":"No")+","+(e.weight||"")+",\""+(e.notes||"")+"\"\n"});c+="\n=== MEDICATIONS ===\nName,Dose,Frequency,Time\n";meds.forEach(m=>{c+=m.name+","+m.dose+","+m.freq+","+m.time+"\n"});c+="\n=== LAB RESULTS ===\nDate,HbA1c(%),Total Chol,LDL,HDL,Triglycerides\n";labs.forEach(l=>{c+=l.date+","+(l.hba1c||"")+","+(l.chol||"")+","+(l.ldl||"")+","+(l.hdl||"")+","+(l.trig||"")+"\n"});const r=gL(30).map(d=>data[d]).filter(Boolean),bp=r.filter(e=>e.bpMornSys).map(e=>+e.bpMornSys),sg=r.filter(e=>e.fastingSugar).map(e=>+e.fastingSugar);c+="\n=== 30-DAY SUMMARY ===\n";if(bp.length)c+="Avg Morning Systolic,"+Math.round(bp.reduce((a,b)=>a+b,0)/bp.length)+" mmHg\nBP Range,"+Math.min(...bp)+"-"+Math.max(...bp)+"\n";if(sg.length)c+="Avg Fasting Sugar,"+Math.round(sg.reduce((a,b)=>a+b,0)/sg.length)+" mg/dL\nSugar Range,"+Math.min(...sg)+"-"+Math.max(...sg)+"\n";c+="Exercise Days,"+r.filter(e=>+e.exerciseMin>0).length+"/"+r.length+"\nMed Compliance,"+r.filter(e=>e.medsTaken).length+"/"+r.length+"\n";const b=new Blob([c],{type:"text/csv"}),u=URL.createObjectURL(b),a=document.createElement("a");a.href=u;a.download="health-report-"+td()+".csv";a.click();URL.revokeObjectURL(u)}
const waMsg=(e,d,l)=>{const ds=fD(d,l),n=[];if(l==="zh"){n.push("\ud83d\udccb *"+ds+" \u5065\u5eb7\u8bb0\u5f55*","");if(e.bpMornSys)n.push("\u2764\ufe0f \u65e9\u4e0a\u8840\u538b\uff1a"+e.bpMornSys+"/"+e.bpMornDia);if(e.bpEveSys)n.push("\u2764\ufe0f \u665a\u4e0a\u8840\u538b\uff1a"+e.bpEveSys+"/"+e.bpEveDia);if(e.fastingSugar)n.push("\ud83e\ude78 \u7a7a\u8179\u8840\u7cd6\uff1a"+e.fastingSugar);if(e.postMealSugar)n.push("\ud83e\ude78 \u9910\u540e\u8840\u7cd6\uff1a"+e.postMealSugar);n.push("");if(e.breakfast)n.push("\ud83c\udf73 \u65e9\u9910\uff1a"+e.breakfast);if(e.lunch)n.push("\ud83c\udf5a \u5348\u9910\uff1a"+e.lunch);if(e.dinner)n.push("\ud83c\udf7d\ufe0f \u665a\u9910\uff1a"+e.dinner);n.push("");if(e.exerciseMin)n.push("\ud83d\udeb6 \u8fd0\u52a8\uff1a"+e.exerciseMin+"\u5206\u949f");n.push("\ud83d\udc8a \u670d\u836f\uff1a"+(e.medsTaken?"\u2705":"\u274c"));}else{n.push("\ud83d\udccb *Health \u2014 "+ds+"*","");if(e.bpMornSys)n.push("\u2764\ufe0f Morn BP: "+e.bpMornSys+"/"+e.bpMornDia);if(e.bpEveSys)n.push("\u2764\ufe0f Eve BP: "+e.bpEveSys+"/"+e.bpEveDia);if(e.fastingSugar)n.push("\ud83e\ude78 Fasting: "+e.fastingSugar);if(e.postMealSugar)n.push("\ud83e\ude78 Post-meal: "+e.postMealSugar);n.push("");if(e.breakfast)n.push("\ud83c\udf73 "+e.breakfast);if(e.lunch)n.push("\ud83c\udf5a "+e.lunch);if(e.dinner)n.push("\ud83c\udf7d\ufe0f "+e.dinner);n.push("");if(e.exerciseMin)n.push("\ud83d\udeb6 "+e.exerciseMin+"min");n.push("\ud83d\udc8a Meds: "+(e.medsTaken?"\u2705":"\u274c"));}if(bpS(+e.bpMornSys)==="dn"||suS(+e.fastingSugar)==="dn")n.push("","\u26a0\ufe0f *WARNING*");return n.join("\n")};
const WASvg=()=>React.createElement("svg",{width:20,height:20,viewBox:"0 0 24 24",fill:"white"},React.createElement("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"}));

function App(){
  const[data,setData]=useState(()=>LS.g(KS.d)||{});
  const[goals,setGoals]=useState(()=>LS.g(KS.g)||{});
  const[meds,setMedsR]=useState(()=>LS.g(KS.m)||[]);
  const[labs,setLabsR]=useState(()=>LS.g(KS.lb)||[]);
  const[lang,setLang]=useState(()=>LS.g(KS.l)||"en");
  const[view,setView]=useState("home");
  const[sel,setSel]=useState(td());
  const[toast,setToast]=useState(false);
  const[saved,setSaved]=useState(false);
  const t=i18[lang];
  const svD=d=>{setData(d);LS.s(KS.d,d);setSaved(true);setTimeout(()=>setSaved(false),1200)};
  const svG=g=>{setGoals(g);LS.s(KS.g,g)};
  const setMeds=m=>{setMedsR(m);LS.s(KS.m,m)};
  const setLabs=l=>{setLabsR(l);LS.s(KS.lb,l)};
  const togL=()=>{const n=lang==="en"?"zh":"en";setLang(n);LS.s(KS.l,n)};
  const upd=(d,f,v)=>svD({...data,[d]:{...(data[d]||eE()),[f]:v}});
  const nav=(v,d)=>{setView(v);if(d)setSel(d);window.scrollTo({top:0,behavior:"smooth"})};
  const entry=data[sel]||eE();
  const cw=wK(td());
  const dates=gL(14).reverse();
  const lBtn=s=>React.createElement("button",{onClick:togL,style:{background:"rgba(255,255,255,.2)",border:"none",color:"#fff",padding:"8px 14px",borderRadius:10,fontSize:14,fontWeight:700,cursor:"pointer",...s}},t.ln);

  if(view==="entry"){const iT=sel===td(),hasD=entry.bpMornSys||entry.fastingSugar||entry.medsTaken||entry.breakfast;
    const isDn=bpS(+entry.bpMornSys)==="dn"||bpS(+entry.bpEveSys)==="dn"||suS(+entry.fastingSugar)==="dn";
    return React.createElement("div",{className:"fi",style:{backgroundColor:P.bg,minHeight:"100vh",paddingBottom:100}},
      saved&&React.createElement("div",{className:"st"},"\u2713 Saved"),
      React.createElement("div",{style:{backgroundColor:P.pr,color:"#fff",padding:"16px 18px",display:"flex",alignItems:"center",gap:12}},
        React.createElement("button",{onClick:()=>nav("home"),style:{background:"none",border:"none",color:"#fff",fontSize:22,cursor:"pointer",padding:8}},"\u2190"),
        React.createElement("div",{style:{flex:1}},React.createElement("div",{style:{fontWeight:800,fontSize:17}},iT?t.td:fD(sel,lang)),React.createElement("div",{style:{fontSize:12,opacity:.8}},iT?fD(sel,lang):t.he)),
        lBtn({padding:"6px 12px",fontSize:13})),
      React.createElement("div",{style:{padding:16}},
        React.createElement(Sc,{title:t.bp,icon:"\u2764\ufe0f"},
          React.createElement("div",{style:{fontSize:12,color:P.mt,marginBottom:10}},t.bpT),
          [["bpMornSys","bpMornDia",t.mo],["bpEveSys","bpEveDia",t.ev]].map(([s,d,l],i)=>
            React.createElement("div",{key:i,style:{marginBottom:i===0?12:0}},
              React.createElement("div",{style:{fontSize:12,fontWeight:600,marginBottom:6}},l),
              React.createElement("div",{style:{display:"flex",gap:8,alignItems:"center"}},
                React.createElement(NI,{label:t.sy,value:entry[s],onChange:v=>upd(sel,s,v),status:bpS(+entry[s]),ph:"120"}),
                React.createElement("span",{style:{fontSize:20,color:P.mt,marginTop:16}},"/"),
                React.createElement(NI,{label:t.di,value:entry[d],onChange:v=>upd(sel,d,v),ph:"80"}),
                React.createElement("span",{style:{fontSize:11,color:P.mt,marginTop:16}},"mmHg"))))),
        React.createElement(Sc,{title:t.su,icon:"\ud83e\ude78"},
          React.createElement("div",{style:{fontSize:12,color:P.mt,marginBottom:10}},t.suT),
          React.createElement("div",{style:{display:"flex",gap:10}},
            React.createElement(NI,{label:t.fa,value:entry.fastingSugar,onChange:v=>upd(sel,"fastingSugar",v),unit:"mg/dL",status:suS(+entry.fastingSugar),ph:"100"}),
            React.createElement(NI,{label:t.pm,value:entry.postMealSugar,onChange:v=>upd(sel,"postMealSugar",v),unit:"mg/dL",status:suS(+entry.postMealSugar),ph:"140"}))),
        React.createElement(Sc,{title:t.me,icon:"\ud83c\udf7d\ufe0f"},
          [{k:"breakfast",m:"bk"},{k:"lunch",m:"lu"},{k:"dinner",m:"dn"},{k:"snacks",m:"sn"}].map(({k,m})=>
            React.createElement("div",{key:k,style:{marginBottom:10}},
              React.createElement("label",{style:{fontSize:11,color:P.mt,fontWeight:600}},t[m]),
              React.createElement("input",{type:"text",value:entry[k],onChange:e=>upd(sel,k,e.target.value),placeholder:t.mp[m],style:{width:"100%",padding:"10px 12px",fontSize:14,border:"1.5px solid "+P.bo,borderRadius:10,outline:"none",backgroundColor:"#FAFAF8",marginTop:4,boxSizing:"border-box"}})))),
        React.createElement(Sc,{title:t.ex,icon:"\ud83d\udeb6"},
          React.createElement("div",{style:{display:"flex",gap:10}},
            React.createElement(NI,{label:t.mn,value:entry.exerciseMin,onChange:v=>upd(sel,"exerciseMin",v),ph:"30"}),
            React.createElement("div",{style:{flex:2}},React.createElement("label",{style:{fontSize:11,color:P.mt,fontWeight:600}},t.ty),
              React.createElement("input",{type:"text",value:entry.exerciseType,onChange:e=>upd(sel,"exerciseType",e.target.value),placeholder:t.ep,style:{width:"100%",padding:"12px 8px",fontSize:14,border:"1.5px solid "+P.bo,borderRadius:10,outline:"none",backgroundColor:"#FAFAF8",marginTop:4,boxSizing:"border-box"}})))),
        React.createElement(Sc,{title:t.ql,icon:"\u2705"},
          React.createElement("div",{style:{display:"flex",gap:10,flexWrap:"wrap",marginBottom:12}},React.createElement(Tg,{label:t.mt,active:entry.medsTaken,onClick:()=>upd(sel,"medsTaken",!entry.medsTaken),icon:"\ud83d\udc8a"})),
          React.createElement("div",{style:{display:"flex",gap:10}},React.createElement(NI,{label:t.wt,value:entry.weight,onChange:v=>upd(sel,"weight",v),unit:"kg",ph:"65"}),
            React.createElement("div",{style:{flex:2}},React.createElement("label",{style:{fontSize:11,color:P.mt,fontWeight:600}},t.nt),
              React.createElement("input",{type:"text",value:entry.notes,onChange:e=>upd(sel,"notes",e.target.value),placeholder:t.np,style:{width:"100%",padding:"12px 8px",fontSize:14,border:"1.5px solid "+P.bo,borderRadius:10,outline:"none",backgroundColor:"#FAFAF8",marginTop:4,boxSizing:"border-box"}})))),
        isDn&&React.createElement("div",{style:{backgroundColor:P.dl,border:"2px solid "+P.dn,borderRadius:14,padding:16,textAlign:"center",marginBottom:14}},"\u26a0\ufe0f",React.createElement("div",{style:{fontWeight:700,color:P.dn,fontSize:14,marginTop:4}},t.wr),React.createElement("div",{style:{fontSize:13,marginTop:4}},t.wM)),
        hasD&&React.createElement("button",{onClick:()=>{window.open("https://wa.me/?text="+encodeURIComponent(waMsg(entry,sel,lang)),"_blank");setToast(true);setTimeout(()=>setToast(false),2500)},style:{width:"100%",padding:16,borderRadius:14,backgroundColor:P.wa,color:"#fff",border:"none",fontSize:15,fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:10,boxShadow:"0 4px 14px rgba(37,211,102,.3)"}},React.createElement(WASvg),t.wa)),
      toast&&React.createElement("div",{style:{position:"fixed",bottom:30,left:"50%",transform:"translateX(-50%)",backgroundColor:"#333",color:"#fff",padding:"12px 24px",borderRadius:12,fontSize:14,fontWeight:600,zIndex:100}},"\u2705 WhatsApp..."))}

  if(view==="more"){return React.createElement("div",{className:"fi",style:{backgroundColor:P.bg,minHeight:"100vh",paddingBottom:30}},
    React.createElement("div",{style:{backgroundColor:P.pr,color:"#fff",padding:"16px 18px",display:"flex",alignItems:"center",gap:12}},
      React.createElement("button",{onClick:()=>nav("home"),style:{background:"none",border:"none",color:"#fff",fontSize:22,cursor:"pointer",padding:8}},"\u2190"),
      React.createElement("div",{style:{flex:1,fontWeight:800,fontSize:17}},t.mr),lBtn({padding:"6px 12px",fontSize:13})),
    React.createElement("div",{style:{padding:16}},
      React.createElement(ML,{meds,setM:setMeds,t}),
      React.createElement(LabL,{labs,setL:setLabs,t}),
      React.createElement("button",{onClick:()=>doExp(data,meds,labs),style:{width:"100%",padding:16,borderRadius:14,backgroundColor:"#5A6B8F",color:"#fff",border:"none",fontSize:15,fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:10,marginTop:4,boxShadow:"0 4px 14px rgba(90,107,143,.3)"}},"\ud83d\udcc4 ",t.exp)))}

  return React.createElement("div",{className:"fi",style:{backgroundColor:P.bg,minHeight:"100vh",paddingBottom:30}},
    saved&&React.createElement("div",{className:"st"},"\u2713 Saved"),
    React.createElement("div",{style:{background:"linear-gradient(135deg,"+P.pr+",#2D6155)",color:"#fff",padding:"24px 20px 20px",borderRadius:"0 0 24px 24px",display:"flex",alignItems:"flex-start",justifyContent:"space-between"}},
      React.createElement("div",null,React.createElement("div",{style:{fontSize:13,opacity:.8,marginBottom:2}},t.app),React.createElement("div",{style:{fontSize:24,fontWeight:800,marginBottom:4}},t.hi),React.createElement("div",{style:{fontSize:13,opacity:.75}},fD(td(),lang)," \u00b7 ",t.sub)),
      lBtn({marginTop:4})),
    React.createElement("div",{style:{padding:16}},
      React.createElement("div",{style:{display:"flex",gap:10,marginBottom:18}},
        React.createElement("button",{onClick:()=>nav("entry",td()),style:{flex:3,padding:"16px 12px",backgroundColor:P.pr,color:"#fff",border:"none",borderRadius:16,cursor:"pointer",fontSize:15,fontWeight:700,boxShadow:"0 4px 14px rgba(59,122,107,.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:8}},React.createElement("span",{style:{fontSize:18}},"+")," ",t.log),
        React.createElement("button",{onClick:()=>nav("more"),style:{flex:1,padding:"16px 12px",backgroundColor:P.cd,color:P.pr,border:"2px solid "+P.pr,borderRadius:16,cursor:"pointer",fontSize:14,fontWeight:700,display:"flex",flexDirection:"column",alignItems:"center",gap:2}},"\u2699\ufe0f",React.createElement("span",{style:{fontSize:11}},t.mr))),
      React.createElement(WG,{goals,cw,onSet:(w,x)=>svG({...goals,[w]:{text:x,achieved:false}}),onTog:w=>{if(goals[w])svG({...goals,[w]:{...goals[w],achieved:!goals[w].achieved}})},t}),
      React.createElement("div",{style:{marginBottom:18}},React.createElement("div",{style:{fontSize:14,fontWeight:700,marginBottom:10}},"\ud83d\udcca ",t.wk),React.createElement(WS,{data,t})),
      React.createElement("div",{style:{marginBottom:18}},React.createElement("div",{style:{fontSize:14,fontWeight:700,marginBottom:10}},"\ud83d\udcc8 ",t.tr),React.createElement(Sc,{title:t.bpTr,icon:"\u2764\ufe0f",np:true},React.createElement(BPC,{data,t})),React.createElement(Sc,{title:t.sTr,icon:"\ud83e\ude78",np:true},React.createElement(SuCh,{data,t}))),
      meds.length>0&&React.createElement("div",{style:{backgroundColor:P.cd,borderRadius:16,padding:14,boxShadow:P.sh,marginBottom:14,border:"1px solid "+P.bo}},React.createElement("div",{style:{fontSize:13,fontWeight:700,color:P.pr,marginBottom:8}},"\ud83d\udc8a ",t.meds),meds.map(m=>React.createElement("div",{key:m.id,style:{fontSize:13,padding:"4px 0"}},React.createElement("span",{style:{fontWeight:600}},m.name)," ",React.createElement("span",{style:{color:P.mt}},m.dose," \u00b7 ",m.freq)))),
      React.createElement("div",null,React.createElement("div",{style:{fontSize:14,fontWeight:700,marginBottom:10}},"\ud83d\udcc5 ",t.rec),React.createElement("div",{style:{display:"flex",flexDirection:"column",gap:8}},dates.map(d=>React.createElement(DC,{key:d,date:d,entry:data[d],isToday:d===td(),onClick:()=>nav("entry",d),lang,t})))),
      React.createElement("div",{style:{marginTop:18,backgroundColor:P.cd,borderRadius:16,padding:16,border:"1px solid "+P.bo,boxShadow:P.sh}},React.createElement("div",{style:{fontSize:13,fontWeight:700,color:P.pr,marginBottom:10}},"\ud83c\udfaf ",t.ref),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,fontSize:12}},React.createElement("div",{style:{padding:8,backgroundColor:P.sl,borderRadius:8}},React.createElement("div",{style:{fontWeight:700,color:P.sc}},t.bR),t.bl),React.createElement("div",{style:{padding:8,backgroundColor:P.sl,borderRadius:8}},React.createElement("div",{style:{fontWeight:700,color:P.sc}},t.fS),t.sR),React.createElement("div",{style:{padding:8,backgroundColor:P.wl,borderRadius:8}},React.createElement("div",{style:{fontWeight:700,color:P.wn}},t.bW),t.bWR),React.createElement("div",{style:{padding:8,backgroundColor:P.dl,borderRadius:8}},React.createElement("div",{style:{fontWeight:700,color:P.dn}},t.em),t.eR)))))}
if('serviceWorker' in navigator)navigator.serviceWorker.register('./sw.js').catch(()=>{});
ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));

</script>
</body>
</html>